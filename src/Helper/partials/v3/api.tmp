<?php

namespace Neoan3\Component\{{name.pascal}};

use Neoan3\Frame\{{frame.pascal}};

/**
 * Class {{name.pascal}}Controller
 *
 * @package Neoan3\Component\{{name.pascal}}
 * @generator Neoan3\Cli (for neoan3 v3.*)
 */

class {{name.pascal}}Controller extends {{frame.pascal}}{

    /**
    * GET: api.v1/{{name.kebab}}
    * GET: api.v1/{{name.kebab}}/{id}
    * GET: api.v1/{{name.kebab}}?{query-string}
    * @param string|null $id
    * @param array $params
    * @return array
    */
    function get{{name.pascal}}(?string $id = null, array $params = []): array
    {
        // Restrict access to logged in users?
        // $this->Auth->restrict();
        // (or without dependency on Demo-Frame: $this->provider['auth']->restrict())
        if($id){
            // Retrieve a model?
            // return $this->loadModel(\Neoan3\Model\{{name.pascal}}\{{name.pascal}}Model::class)::get($id);
        }
        return $params;
    }

    /**
     * POST: api.v1/{{name.kebab}}
     * @param $body
     * @return array
     */
    function post{{name.pascal}}(array $body): array
    {
        return $body;
    }
}
